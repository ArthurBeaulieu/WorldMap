<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8>
  <title>MzkWorldMap 0.8 - Module scope</title>
  <link rel="stylesheet" href="./dist/mzkworldmap.min.css">
</head>
<!--


MzkWorldMap 2019-2020
@author Arthur Beaulieu - https://github.com/ArthurBeaulieu

Module scope implementation mean you use MzkWorldMap as a module for your app. You must ensure
that assets, css and js folder keep the same tree structure (or change yourself import path in classes)
THREE js is already shipped in CustomThreeModule.js, and you don't need to add any script import to your
HTML file. However, the css file must be linked in HTMM head to properly set style rules.


-->
<body style="background:black;margin:0;overflow:hidden;">
  <div class="worldmap"></div> <!-- The MzkWorldMap parent DOM element -->
  <script type="module">
  /*  ----------  MzkWorldMap usage as a module  ----------  */
  import MzkWorldMap from './js/MzkWorldMap.js';


  /** Country clicked callback (plugin exit point)
   * @param {String} info.name - The country name
   * @param {String} info.trigram - The country NATO country code (TRIGRAM)
   * @param {Boolean} info.hasArtists - does the clicked country has artists
   * @param {Array} info.artists - The clicked country artists (same format as in libraryData)
   * These are the main info attributes, but it does contains several other information.
   * - From MzkWorldMap data, the capital city and country center coordinates are embedded in info.
   * - From geojson data, there are a lot more information you can exploit in here. */
  const countryClicked = info => { console.log(info.hasArtists, info); };
  // Sample data that need to be sent to MzkWorldMap to display country with artists
  const userData = {
    type: 'artists',
    countries: [{
      trigram: 'FRA',
      artists: [{
        name: 'Habstrakt',
        id: '42'
      }]
    }]
  };
  // Build MzkWorldMap with required data
  const map = new MzkWorldMap({
    assetsUrl: './assets/', // Must indicate the assets path to properly retrieve its own assets, must end with a slash
    renderTo: document.querySelector('.worldmap'), // The parent div to render the canvas to
    countryClicked: countryClicked, // Optional, the callback that is trigger each time a country is clicked
    data: userData // Optional, must contain all artists per country (NAME/ID for each)
  });
  // When done with module, destroy it
  // map.destroy();


/*  ----------  Et voila !  ----------  */
  </script>
</body>
</html>
