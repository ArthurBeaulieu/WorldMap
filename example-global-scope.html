<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8>
  <title>MzkWorldMap 0.8 - Global scope</title>
  <link rel="stylesheet" href="./dist/mzkworldmap.min.css">
</head>
<!--


MzkWorldMap 2019-2020
@author Arthur Beaulieu - https://github.com/ArthurBeaulieu

Global scope implementation mean that MzkWorldMap is attached to the window object when
js bundle is included in a HTML file. This way it can be used as a plugin for ManaZeak.
THREE js is already shipped in CustomThreeModule.js. You need to link the dist minified
files (css and js) in your HTML to make MzkWorldMap globally available in your app.


-->
<body style="background:black;margin:0;overflow:hidden;">
  <div class="worldmap"></div> <!-- The MzkWorldMap parent DOM element -->
  <script src="./dist/mzkworldmap.min.js" type="text/javascript"></script> <!-- Include minified js bundle to attach MzkWorldMap -->
  <script type="text/javascript">
  /*  ----------  MzkWorldMap usage using the global Js scope ----------  */


  /** Country clicked callback (plugin exit point)
   * @param {String} info.name - The country name
   * @param {String} info.trigram - The country NATO country code (TRIGRAM)
   * @param {Boolean} info.hasArtists - does the clicked country has artists
   * @param {Array} info.artists - The clicked country artists (same format as in libraryData)
   * These are the main info attributes, but it does contains several other information.
   * - From MzkWorldMap data, the capital city and country center coordinates are embedded in info.
   * - From geojson data, there are a lot more information you can exploit in here. */
  const countryClicked = info => { console.log(info.hasArtists, info); };
  // Sample data that need to be sent to MzkWorldMap to display country with artists
  const userData = {
    type: 'artists',
    countries: [{
      trigram: 'FRA',
      artists: [{
        name: 'Habstrakt',
        id: '42'
      }]
    }]
  };
  // Build MzkWorldMap with required data
  const map = new window.MzkWorldMap({ // 'window.' optional but for the seek of example precision...)
    baseUrl: './', // Must indicate the plugin base url to properly retrieve its own assets, must end with a slash, better absolute on prod env
    renderTo: document.querySelector('.worldmap'), // The parent div to render the canvas to
    countryClicked: countryClicked, // Optional, the callback that is trigger each time a country is clicked
    data: userData // Optional, must contain all artists per country (NAME/ID for each)
  });
  // When done with module, destroy it
  // map.destroy();


/*  ----------  Et voila !  ----------  */
  </script>
</body>
</html>
